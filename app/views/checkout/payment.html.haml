%main.container.mb-res-50
  = render 'steps'
  %h3.general-subtitle Credit Card
  = form_for @order, url: wizard_path do | f |
    = f.fields_for @credit_card do |f|
      - errors = @credit_card.errors
      .max-600.mb-80
        .form-group{class: field_has_error_class(errors, :number)}
          = f.label :number, class: 'control-label input-label'
          = f.text_field :number, class: 'form-control', placeholder: t('placeholder.credit_card.number'), id: :number
          = content_tag(:span, errors[:number].join(', <br>').html_safe, class: 'help-block') if field_has_error?(errors, :number)
        .row
          .col-sm-6
            .form-group{class: field_has_error_class(errors, :name)}
              = f.label :name, class: 'control-label input-label'
              = f.text_field :name, class: 'form-control', placeholder: t('placeholder.credit_card.name'), id: :name
          .col-sm-3
            .form-group{class: field_has_error_class(errors, :expiration_date)}
              = f.label :expiration_date, class: 'control-label input-label'
              = f.text_field :expiration_date, class: 'form-control', placeholder: t('placeholder.credit_card.expiration_date'), id: :expiry
          .col-sm-3
            .form-group.relative{class: field_has_error_class(errors, :cvv)}
              = f.label :cvv, class: 'control-label input-label'
              = f.text_field :cvv, class: 'form-control', placeholder: t('placeholder.credit_card.cvv'), id: :cvv
              %i.fa.fa-question-circle.general-form-help{'data-toggle': "tooltip", 'data-placement': "top", title: t('cvv_help')}
        .row
          .col-sm-12.has-error
            - [:name, :expiration_date, :cvv].each do | field |
              = content_tag(:span, errors[field].join(', <br>').html_safe, class: 'help-block') if field_has_error?(errors, field)
    = render 'order_summary'